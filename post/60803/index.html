<!DOCTYPE html>
<html
  lang="zh-cn"
  itemscope
  itemtype="http://schema.org/WebPage"
>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>
          Layer 2赛道深度分析 - 区块大全
        </title>
    

<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes"/>

<meta name="MobileOptimized" content="width"/>
<meta name="HandheldFriendly" content="true"/>


<meta name="applicable-device" content="pc,mobile">

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="mobile-web-app-capable" content="yes">

<meta name="author" content="佚名" /><meta name="description" content="复盘Layer 2的发展历程以及Layer2的未来展望" />
<meta name="keywords" content="Layer 2" />







<meta name="generator" content="Hugo 0.120.4" />


<link rel="canonical" href="/post/60803/" />





<link rel="icon" href="/favicon.ico" />











<link rel="stylesheet" href="/sass/jane.min.d8d87b982993a745e5e7b6a6cbf257be8c3e82aab5e485f0908ad7e6c3501ab2.css" integrity="sha256-2Nh7mCmTp0Xl57amy/JXvow&#43;gqq15IXwkIrX5sNQGrI=" media="screen" crossorigin="anonymous">







<meta property="og:title" content="Layer 2赛道深度分析" />
<meta property="og:description" content="复盘Layer 2的发展历程以及Layer2的未来展望" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/post/60803/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2023-10-10T00:00:00+00:00" />
<meta property="article:modified_time" content="2023-10-10T00:00:00+00:00" />

<meta itemprop="name" content="Layer 2赛道深度分析">
<meta itemprop="description" content="复盘Layer 2的发展历程以及Layer2的未来展望"><meta itemprop="datePublished" content="2023-10-10T00:00:00+00:00" />
<meta itemprop="dateModified" content="2023-10-10T00:00:00+00:00" />
<meta itemprop="wordCount" content="7725">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Layer 2赛道深度分析"/>
<meta name="twitter:description" content="复盘Layer 2的发展历程以及Layer2的未来展望"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->




  </head>
  <body>
    <div id="back-to-top"></div>

    <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">区块大全</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="/">主页</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="/post/">归档</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="/categories/">分类</a>
          
        
      </li>
    

    
  </ul>
</nav>


    
      






  <link rel="stylesheet" href="/lib/photoswipe/photoswipe.min.css" />
  <link rel="stylesheet" href="/lib/photoswipe/default-skin/default-skin.min.css" />




<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

    

    

    


    <header id="header" class="header">
      <div class="logo-wrapper">
  <a href="/" class="logo">
    
      区块大全
    
  </a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="/">主页</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="/post/">归档</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="/categories/">分类</a>
          

        

      </li>
    

    
    

    
  </ul>
</nav>

    </header>

    <div id="mobile-panel">
      <main id="main" class="main bg-llight wallpaper">
        <div class="content-wrapper">
    <div id="content" class="content">
      <article class="post">
        
        <header class="post-header">
          <h1 class="post-title">Layer 2赛道深度分析</h1>
          

          <div class="post-meta">
  <div class="post-meta-author">
    by
      佚名
    
  </div>

  <div class="post-meta-time">
    <time datetime="2023-10-10">
      2023-10-10
    </time>
  </div>

  


  <div class="post-meta__right">
    <span class="post-meta-more">
        约 7725 字 -
        预计阅读 16 分钟
      </span>

    <div class="post-meta-category">
        <a href="/categories/%E5%85%B6%E5%AE%83%E6%96%87%E7%AB%A0/"> 其它文章 </a>
          
      </div>


    
    


    
    
  </div>
</div>

        </header>

        
        <div class="post-content">
          <table>
    <thead>
        <tr>
            <th style="text-align:left">推荐平台</th>
            <th style="text-align:left">链接</th>
            <th style="text-align:left">平台介绍</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">币安网</span></td>
            <td style="text-align:left"><span style="white-space:nowrap"><a
                        href="https://www.okbtc.cn/binance?ref=githubio">注册链接</a></span></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/binance?ref=githubio">币安是全球领先的区块链生态系统，推出了一系列产品，其中包括最大的加密货币交易平台。我们的使命是在未来成为全球性加密货币基础架构供应商。</a>
            </td>
        </tr>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">欧易OKX</span></td>
            <td style="text-align:left"><a href="https://www.okbtc.cn/okx?ref=githubio">注册链接</a></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/okx?ref=githubio">欧易是全球著名的数字资产交易平台之一，主要面向全球用户提供比特币、莱特币、以太币等数字资产的币币和衍生品交易服务。</a>
            </td>
        </tr>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">HTX火币</span></td>
            <td style="text-align:left"><a href="https://www.okbtc.cn/htx?ref=githubio">注册链接</a></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/htx?ref=githubio">火币全球专业站，是火币集团旗下服务于全球专业交易用户的创新数字资产国际站，致力于发现优质的创新数字资产投资机会。</a>
            </td>
        </tr>
    </tbody>
</table>
<p>作者：萨摩</p>
<p>在SeeDAO投研公会的第七十九次周会中，我们迎来了不少新人小伙伴的加入，同时还有幸邀请到了著名的萨摩老师作为嘉宾。萨摩老师涉猎广泛，是一个跨领域的学习者和科普爱好者，也是BuidlerDAO、LXDAO等多个DAO的杰出贡献者，非常熟悉区块链的技术知识。作为嘉宾，萨摩老师在这次周会上给我们分享了“My First Layer 2”为主题的科普讲解，本文就让我们一起来回顾萨摩老师的精彩观点吧。</p>
<p>—</p>
<p><img src="https://img.bibiqing.com/news/2023/1010/14_dvq9yufldu.png" alt="Layer 2赛道深度分析"></p>
<p><strong>公链发展的瓶颈</strong></p>
<p>▎传统公链如BTC、ETH的平均TPS（每秒可处理交易笔数）太低，难以满足web3当前以及未来经济活动的需求；</p>
<p>▎为了满足用户的使用需求，21年初开始兴起了高性能公链的探索；提高TPS的方法主要有两种：</p>
<ul>
<li>一是通过增加区块的大小，使得单个区块可以容纳更多的交易，比如BCH将区块大小从 1MB 提升至 32MB，BSV则是更激进地取消了区块大小上限，允许无限多的信息融入一个区块。这样做会导致区块链的体积快速膨胀，参与验证的机器性能要求越来越高，提高了参与门槛，导致区块链网络的去中心化程度和安全性降低。</li>
</ul>
<p><img src="https://img.bibiqing.com/news/2023/1010/14_g35ezg0h7w.png" alt="Layer 2赛道深度分析"></p>
<ul>
<li>
<p>二是通过降低出块时间，提高单位时间内的出块数量，来提高TPS。这样对节点的网络条件提出了更高的要求，提高了参与的门槛，并且因为物理距离较远的节点群容易对于最新区块产生分歧，导致了区块链的分叉。分叉后的区块链必须等待区块确认竞争出最长的一条支链，抛弃其他的支链，这就导致了一段时间内的大量交易记录被重写，如Polygon在2023年发生过157个区块的重组事件。</p>
</li>
<li>
<p><img src="https://img.bibiqing.com/news/2023/1010/14_bljuekfnr0.png" alt="Layer 2赛道深度分析"></p>
</li>
<li></li>
</ul>
<p><strong>▎</strong> <strong>区块链的三角悖论</strong> ，去中心化程度、安全性与可拓展性（即性能）三者之间的矛盾。为了追求任意两者的提升，往往会让第三者做出牺牲。如Polygon为了保证去中心化程度采用了复杂的验证机制，为了追求性能提高出块的速度，结果导致了容易出现大规模的区块重组事件和全网宕机事故，牺牲了安全性。而更多高性能公链为了保证性能和安全性，提高了节点的门槛，导致了一条公链仅有数十个超级节点参与验证。这些做法虽然让TPS得到的切实的提升，但与区块链的去中心化特性相比是不是显得有点“变味”了呢？</p>
<p><img src="https://img.bibiqing.com/news/2023/1010/14_dvq9yufldu.png" alt="Layer 2赛道深度分析"></p>
<p><strong>Layer 2 概念的兴起与发展</strong></p>
<p>▎几乎在高性能公链兴起的同一时间，由OP提出的optimism，就是运用了Layer 2的概念。</p>
<p>▎Layer 2指二层网络，是在一层网络的基础上搭建的，用各种技术手段帮助底层公链扩容的解决方案。传统互联网也采用了增加层级的方式来实现业务的解耦，降低层级负担。同样的可以利用技术在区块链一层网络（Layer 1）的基础上增加Layer 2，来分摊Layer 1的负担，达到扩容提升性能的目的。</p>
<p><strong>▎</strong> <strong>Layer 2</strong> <strong>的原型：状态通道。</strong> 状态通道使用了多签技术，允许两个个体之间提前存入一笔资金锁定在智能合约中，建立一个内部通道，然后双方可以在通道内进行多笔小额转账，速度极快，成本极低，再在一段时间后用转账证明一次性提款。这就是比特币的闪电网络和以太坊的雷电网络背后的底层技术。</p>
<p><strong>▎</strong> <strong>雷电网络的局限性</strong> ：</p>
<ul>
<li>
<p>用户必须提前锁定资金；</p>
</li>
<li>
<p>只能实现简单的转账交易，无法实现更复杂的交易需求；</p>
</li>
<li>
<p>无法给不参与雷电网络的用户转账。</p>
</li>
</ul>
<p><strong>▎</strong> <strong>侧链方案</strong></p>
<p>为了解决状态通道无法执行复杂交易的问题，侧链方案进入人们视野。侧链可以理解为一条相对独立的区块链，它们往往采用与主链（一般是以太坊）类似的架构，方便主链上的项目迁移至侧链。我们可以在主链的智能合约内锁定一定量的资产，然后在侧链上铸造等量资产，实现“原子交换”。用这种方式将资产存入侧链，在侧链上进行各种交易，然后在必要时转移回主链。</p>
<p><strong>▎</strong> 侧链为了分担主链的交易压力，往往会采用与主链不一样的共识机制，大幅提高出块的速度，或是用少量的超级节点进行通信。这使得侧链的安全性相比以太坊主链大大地降低。侧链的安全性由自身的节点负责，如果侧链的安全出现问题，比如用户的资金存入侧链后出现问题无法转移回主链等，那么整个以太坊生态都会受到影响。所以，侧链是否属于Layer 2存在一定的争议。</p>
<p><strong>▎</strong> <strong>Plasma方案</strong></p>
<p>随着状态通道和侧链方案在实践中暴露出不足，Plasma方案被提出并得到重视，它解决了前面两者暴露出的两个问题：</p>
<ul>
<li>
<p>无法给未参与的个体发送资金：未加入Plasma链的账户也可以收到资金，然后自行提取到 Layer 1。</p>
</li>
<li>
<p>无法继承 Layer 1 安全性：Plasma定期向主链提交信息，以继承 Layer 1安全性。</p>
</li>
</ul>
<p><strong>▎</strong> Plasma会在 Layer 1用智能合约锁住一笔资金，然后依赖一个节点运营商在 Layer 2进行交易。运营商以默克尔树（Merkle Tree，又名：哈希树）的形式保存一个小账本，记录了 Layer 2账户的状态信息，同时负责保存并公开所有的交易记录。</p>
<p><img src="https://img.bibiqing.com/news/2023/1010/14_q62mf8h2vn.png" alt="Layer 2赛道深度分析"></p>
<p>Plasma运营商需要定期向Layer 1上传默克尔树的根证明，即“状态根”（State Root），这样所有人都能检查Layer 2的账本是否被篡改。</p>
<p><strong>▎</strong> Plasma 还支持链中链的特性，即不向Layer 1定期提交根证明，而是向另一条Plasma链定期提交根证明，如此一层叠一层，形成“巢状区块链”（Nested Blockchain）的形态。这种特性也为其进行规模性扩容提供了可能，一度被认为是非常有前景的解决方案。</p>
<p><img src="https://img.bibiqing.com/news/2023/1010/14_5i0srtcb11.png" alt="Layer 2赛道深度分析"></p>
<p>**<strong>▎</strong> ** <strong>Plasma</strong> <strong>的局限性：</strong> 用户从Plasma链上提取资产时，要经历漫长的挑战期（一般为7天），是为了确定交易的合法性，如果挑战期内有人质疑节点运营商作恶，可以自行检查交易记录，并提交欺诈证明，挑战期内未被挑战的提款在挑战期结束后才会生效。但Plasma节点运营商是一个中心化的节点，第三方不容易获得交易数据进行监督，如果节点运营商作恶失去可信性，可能会发生用户大规模退出Plasma的情况，短时间内产生巨量的提款请求，提交大量的欺诈证明，导致以太坊主网长时间堵塞。</p>
<p><strong>▎</strong> 由于Plasma因为数据可用性的问题导致其最终未能被大规模使用，但它的一些理念在后续的Layer 2方案中被吸收和发展。</p>
<p><img src="https://img.bibiqing.com/news/2023/1010/14_dvq9yufldu.png" alt="Layer 2赛道深度分析"></p>
<p><strong>Rollup技术的发展</strong></p>
<p>**<strong>▎</strong> ** <strong>Rollup方案Layer 2的技术特点：</strong> Rollup 意为“打包”，也就是将一段时间内发生的交易先进行压缩，再进行打包，然后周期性地上传至主网。目前主流的Rollup方案分为两大路线，分别为Optimistic Rollup（乐观的 Rollup）与Zero-knowledge Rollup（零知识证明的 Rollup）。</p>
<p><strong>▎</strong> <strong>Optimistic Rollup：</strong> OP-Rollup是将一段时间内的所有交易细节全部压缩打包，定期发送至 Layer 1。这种机制乐观地相信大部分交易者都是诚实的，继承了 Plasma 挑战期和欺诈证明机制。</p>
<p><strong>▎</strong> <strong>Zero-knowledge Rollup：</strong> ZK-Rollup一般是将一段时间内的交易计算完成后，将状态变化的结果压缩打包，并附上交易已经在Layer2被正确执行的零知识证明，定期发送至 Layer 1。用零知识证明代替监督者，依赖数学而非验证者（Rely on Math,not Validators）。</p>
<p><strong>▎</strong> <strong>Rollup的二层解决方案，略微降低了去中心化程度，但获得了以下优点：</strong></p>
<ul>
<li>
<p>大幅分担了Layer 1层的计算负担，有效实现扩容；</p>
</li>
<li>
<p>压缩交易数据，节省了Layer1的存储资源；</p>
</li>
<li>
<p>向Layer 1上传必要的关键信息，且一层对二层的状态有最终裁决权，从而最大程度地继承了Layer 1的安全性。</p>
</li>
</ul>
<p><strong>▎</strong> <strong>Rollup的压缩打包方法</strong></p>
<p>以OP-Rollup为例，一笔常见的转账交易，他的原数交易数据可能是这样的：</p>
<p>4232f4610000000000000000000000007ea2be2df7ba6e54b1a9c70676f668455e329d29000000000000000000000000d548a5e31de2b4c2681a58a3be5302abcae4bc5700000000000000000000000000000000000000000000000000000000000186a0（Method ID / 填充的 0 / 代币合约地址 / 填充的 0 / 收款的账户地址 / 填充的 0 / 提币数量）</p>
<ul>
<li>
<p>Layer 2通过科学计数法，删除原数据中不必要的0（数量精度略微下降，实践中几乎无影响）；</p>
</li>
<li>
<p>删除所调用的Method ID（调用方法很常见，可以通过交易内容的特征推测）；</p>
</li>
<li>
<p>为常用的行为设置一个绿色通道，例如“发送”动作以及发送的代币类型为“USDC”这两个信息设置一个更短的HelperID来直接调用；</p>
</li>
<li>
<p>登记一个“电话本”，记录常用收款人的地址，将长地址压缩为第X页中的第X个地址；</p>
</li>
<li>
<p>如果发送的是ETH，省略HelperID；</p>
</li>
<li>
<p>经过上面一些列操作，最终上传到Layer1的数据就压缩成了059c570186a0（收款账户“电话簿”编号 / 提币数量）。</p>
</li>
</ul>
<p><strong>▎</strong> 在原数交易数据经过定制化压缩后，还有很多压缩算法帮助进一步压缩，已经上线的Layer 2 Rollup方案中，很多都有自己的算法帮助打包，以下对比中可以看出，这些方案对比于以太坊主网，都取得了不错的效果。</p>
<p><img src="https://img.bibiqing.com/news/2023/1010/14_gmqpr0j52w.png" alt="Layer 2赛道深度分析"></p>
<p>**<strong>▎</strong> ** <strong>Optimistic Rollup</strong></p>
<p>Optimistic Rollup是“乐观的打包”，它假设绝大部分的参与者都是诚实的，允许一批数量较少的验证者节点（Validator），对交易进行收集、排序、验证。同时还设置了挑战者的角色（Challenger），其职责是监督验证者提交的信息是否诚实。</p>
<p>OP-Rollup 会定期向主网上传两种数据：</p>
<ul>
<li>
<p>状态根（State Root）: 状态根可以快速确认 Layer 2 小账本的内容是否被篡改。</p>
</li>
<li>
<p>压缩后的全部交易数据：包含各种交易细节，比如交易附带的“用户签名”。</p>
</li>
</ul>
<p>虽然上传了近段时间的全部交易详情，但以太坊主网并不负责直接验证这些交易，只起到一个公示的作用。</p>
<p><img src="https://img.bibiqing.com/news/2023/1010/14_lnlnsb4klq.png" alt="Layer 2赛道深度分析"></p>
<p><strong>▎</strong> 与 Plasma类似，OP-Rollup也使用默克尔树的形式保存了一个“小账本”，记录了全体账户的所有状态（账户余额）。如果我们相信目前的交易验证者（Validator）都是诚实的，那么状态根能快速确认当前Layer 2 的小账本记录的内容是否被篡改，确保安全性。</p>
<p>反之，假如我们对目前的交易合法性产生质疑，任何第三方都可以在主网获取最近一段时间内所有交易的副本，重新验证之后，将自己验证的结果与 Layer2的小账本的记录做对比，确认小账本上的记录均为合法。如果发现作恶，挑战者就可以在以太坊一层提交欺诈证明来改写二层的状态。挑战成功后，不诚实的验证者将受到惩罚，挑战者将获得奖励。同时，受影响的交易将被回滚，进行重新验证。</p>
<p>这个过程中，负责监督的挑战者（Challenger）是直接与Layer1的智能合约交互的，一层对二层的状态有着最终裁决权。</p>
<p><img src="https://img.bibiqing.com/news/2023/1010/14_7zm528gsgy.png" alt="Layer 2赛道深度分析"></p>
<p>这种设计之下，即使只有一个诚实的挑战者，也足以确保整个Layer2的交易安全。不过代价是 OP-Rollup 必须提供一个退出窗口期，让挑战者有时间去检验并提交欺诈证明，因此使用官方桥从 OP-Rollup 网络提款往往需要7 - 14天的等待期。</p>
<p>OP-Rollup的逻辑简单易懂，而且上传了全部交易细节，因此对 EVM （以太坊虚拟机）的兼容性也非常好，很有利于落地实施。但还是难以避免漫长的挑战期。</p>
<p><strong>▎</strong> <strong>ZK Rollup（Zero-Knowledge Rollup）：零知识证明Rollup。</strong></p>
<p>依赖于数学算法的一种非交互式证明，让在Layer2诚实执行交易的验证者能生成一个证明，而不诚实的验证者无法得到正确的证明，并且Layer1验证这个证明的代价极低，Layer1确认了证明之后，就能认可一整个批次的交易为真。如果证明无法通过，则拒绝整个批次的打包。</p>
<p>比方说，一个NFT在一段时间内在ABCD多次反复转手，但最终的结果是A的手里减少了一个NFT，D的手里增加了一个NFT，这叫做状态变化的结果。Layer 2只需要把这个状态结果上传到Layer 1，以及一个ZK证明去证明中间这些过程已经正确地被执行即可，如果通过Layer 1的验算通过，则这一批次的交易得到确认，否则这一批次的交易全部被打回，而不需要一个挑战者去监督交易的安全性。交易如果是不合法的，甚至无法被压缩打包。</p>
<p>**<strong>▎</strong> ** <strong>ZK-Rollup 会周期性向主网上传3种数据：</strong></p>
<ul>
<li>
<p><strong>状态根：</strong> 状态根可以快速确认Layer 2小账本的内容是否被篡改。</p>
</li>
<li>
<p><strong>交易数据：</strong> 经过压缩和聚合的交易数据，例如将多个交易合并为一批次的状态变化结果。通过使用零知识证明保证交易的安全性，可以舍弃一些不必要的信息，例如前面提到的“用户签名”。</p>
</li>
<li>
<p><strong>有效性证明：</strong> 即零知识证明，让Layer 1的智能合约在经过简单验证后，就能确认交易已经被正确执行。</p>
</li>
</ul>
<p><img src="https://img.bibiqing.com/news/2023/1010/14_mf0bb2p0qu.png" alt="Layer 2赛道深度分析"></p>
<p>**<strong>▎</strong> ** <strong>ZK-Rollup与OP-Rollup的区别：</strong></p>
<p>ZK-Rollup方案依靠Layer 1上的智能合约，用很小的代价检验ZK Proof的有效性，如果检验通过则表示这批交易已经被正确执行，那就更新状态。如果检验不通过，则拒绝这一批次的交易。</p>
<p>OP-Rollup则完全将Layer 1当成了解决数据可用性的公告板，依赖挑战者的监督，两者的安全性和交易确认速度都会产生明显差异。</p>
<p>**<strong>▎</strong> ** <strong>ZK-Rollup的优点：</strong></p>
<p>依靠数学而非验证者，安全性更有保障，并且确认时间更短。</p>
<p>更高的压缩率，让Layer 2的扩容上限更高。</p>
<p>**<strong><strong>▎</strong> ** ZK-Rollup的两个技术路线STARK vs SNARK</strong></p>
<p><strong>SNARK：</strong> Succinct Non-Interactive Argument of Knowledge的特点：</p>
<ul>
<li>
<p>简洁（Succinct）：验证速度快于计算证明。</p>
</li>
<li>
<p>非交互式（Non-Interactive）：无需证明者与验证者之间进行交互。如比特币的公私钥对也是一种零知识证明，但它要求私钥拥有者对一段文字进行签名才能证明自己拥有私钥，这需要发生一次交互。</p>
</li>
<li>
<p>统计学上的可靠（Argument）：相对于数学上绝对的证明(即 100% 可靠)，实现了统计学上的可靠（如 99.99999999%）。</p>
</li>
<li>
<p>包含信息（Knowledge）：可将某些信息编码进零知识证明中，如一笔交易已被正确执行。</p>
</li>
</ul>
<p><strong>STARK：</strong> Scalable Transparent Argument of Knowledge的特点：</p>
<ul>
<li>
<p>可扩展的（Scalable）：在进行大规模交易的证明时，验证时间仍然较短。</p>
</li>
<li>
<p>透明的（Transparent）：随机数公开可验证，无需像 SNARK 一样设置初始可信环境。</p>
</li>
<li>
<p>统计学上的可靠（Argument）：相对于数学上绝对的证明(即 100% 可靠)，实现了统计学上的可靠（如 99.99999999%）。</p>
</li>
<li>
<p>包含信息（Knowledge）：可将某些信息编码进零知识证明中，如一笔交易已被正确执行。</p>
</li>
</ul>
<p><strong>▎</strong> <strong>STARK的优势：</strong> 处理大量交易时，零知识证明生成速度和验证速度更快，具有抗量子性，无需初识可信环境，安全性更高，且发展时间更久更成熟。</p>
<p>SNARK的优势：证明体积更小，交易成本比STARK更低，随着技术发展，安全性不显著弱于STRAK，拥有更大的潜力。</p>
<p>**<strong>▎</strong> ** <strong>ZK</strong> <strong>发展路线</strong> <strong>ZK-VM vs ZK-EVM</strong></p>
<ul>
<li>
<p><strong>ZK-VM：</strong> 从零知识证明的角度出发，专门开发适用于零知识证明的算法，从而构建一个ZK-VM（零知识虚拟机），而不是原生兼容EVM的 ZK-EVM（零知识以太坊虚拟机），在此基础上尽可能实现EVM兼容。这种路线的优点是能够充分发挥零知识证明的潜力，实现最大化的扩展性。</p>
</li>
<li>
<p><strong>ZK-EVM：</strong> 从EVM兼容性的角度出发，将EVM的交易在操作码层面切割成更小的步骤，对每个步骤去找对应的零知识证明算法，力求实现完全的EVM兼容。这样做可以使开发者几乎无感地切换到二层网络，方便现有项目迁移，最大程度地保留目前的 EVM 生态成果。</p>
</li>
</ul>
<p><img src="https://img.bibiqing.com/news/2023/1010/14_dvq9yufldu.png" alt="Layer 2赛道深度分析"></p>
<p><strong>复盘Layer 2的发展历程以及Layer2的未来展望</strong></p>
<p><strong>▎</strong> <strong>侧链</strong> ，数据对主链来说不可用，无法继承主链安全性。</p>
<p><strong>▎</strong> <strong>Plasma</strong> ，状态根可以保障链下账本的不被篡改，但具体交易数据对一层网络来说也不可用，导致资金退出困难。</p>
<p><strong>▎</strong> <strong>OP-Rollup</strong> ，上传所有交易的详细数据以及状态根到Layer 1上，确保了全部交易数据的可用性，从而确保Layer2的安全。</p>
<p><strong>▎</strong> <strong>ZK-Rollup</strong> ，上传关键交易数据以及能证明链下交易已经被正确执行的零知识证明，实现安全性的同时，还能一定程度保证隐私性。</p>
<p><strong>▎</strong> <strong>未来</strong> ：数据可用性问题能否由Layer2解决。</p>
<p><strong>▎</strong> <strong>Validium</strong> ，仅向主网上传状态根和零知识证明，交易数据交由Layer 2保存。</p>
<p><strong>▎</strong> <strong>Volition</strong> 是Validium方案的改进版本，允许用户可以自行选择其交易数据是否在Layer1可用。少量资金交易可以选择交易数据储存在Layer2，提高交易速度，降低交易成本，大量资金交易可以选择保存在Layer1，提高安全性。</p>
<p><strong>▎</strong> 以太坊的Deneb更新，是以太坊扩容路线 DankSharding 的前置步骤，旨在保证以太坊信标链安全性的前提下，为Layer 2扩容提供更大的储存资源。</p>
<p>Deneb 更新添加了一种新的交易：Blob交易（大型二进制对象 Binary Large Object）。在主链上只留存指针，指针指向一个Blob块，上面可以储存约 128KB 的二进制数据。</p>
<p><img src="https://img.bibiqing.com/news/2023/1010/14_z8qt1w92hb.png" alt="Layer 2赛道深度分析"></p>
<p>以太坊矿工只负责在一段时间内（如一个月）保存Blob上的数据，通过随机抽样的方式确保 Blob 上二进制数据的真实性，但不验证存在Blob上的交易。</p>
<p>Blob 交易看起来对常规交易的扩容没有帮助，但这对于Layer 2打包的交易数据来说简直是完美契合Layer2原先定期上传给Layer 1上的打包交易数据本来就不会执行，只是起到保障数据可用性的作用。</p>
<p>而Blob本身就相当于一个公示板，消息在公示板上的存续时间超过了 OP-Rollup的挑战期，实践上完全够用，存储成本却降低了许多，这将促使 Layer 2的交易成本进一步降低。</p>
<p>Blob 增加的唯一缺憾是超过保存期之后，Layer 2如果想保存自己的全部历史交易数据，需要用另外的方案自行解决这些数据的可用性问题。</p>
<p>总体来说，Deneb更新之后，Layer 2将可以在保证安全性的同时进一步降低交易成本，变得更具实用价值。</p>
<p><strong>▎</strong> ZK系与OP系未来将会走向相互融合发展的方向。</p>
<p><strong>▎</strong> <strong>账户抽象与大规模应用</strong> 。Web3想要得到大规模应用，需要完善区块链的账户体系，用私钥对掌握的账户体系（EOA账户），对普通大众非常不友好，账户抽象是未来的重要趋势。Layer 2可以帮助建立账户抽象，通过智能合约账户进行交易，手续费和交易速度都比EOA账户更加优化，Layer 2为区块链最终的普及提出了更大的可能性。</p>
<p>以上是萨摩老师在SeeDAO投研公会上分享的全部内容，非常感谢萨摩老师的科普和讲解，让我们对Layer 2都有了更深层次的认识。希望没有参加到会议的你看完这篇文章页能对Layer 2有自己全新的理解，也希望以后能再有机会邀请到萨摩老师为我们做更多的讲解，再次感谢萨摩老师！</p>
<table>
    <thead>
        <tr>
            <th style="text-align:left">推荐平台</th>
            <th style="text-align:left">链接</th>
            <th style="text-align:left">平台介绍</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">Gate芝麻开门</span></td>
            <td style="text-align:left"><span style="white-space:nowrap"><a
                        href="https://www.okbtc.cn/gateio?ref=githubio">平台介绍</a></span></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/gateio?ref=githubio">Gate.io芝麻开门创立于2013年，是全球真实交易量TOP10的加密货币交易平台，向全球数千万用户提供安全可靠、真实透明的数字资产交易服务。</a>
            </td>
        </tr>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">Bitget</span></td>
            <td style="text-align:left"><a href="https://www.okbtc.cn/bitget?ref=githubio">注册链接</a></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/bitget?ref=githubio">Bitget的背后是一群区块链技术的早期接受者，也是区块链未来发展的信仰者，一直致力于提供安全、一站式的交易解决方案，帮助用户更聪明地交易。</a>
            </td>
        </tr>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">Bybit</span></td>
            <td style="text-align:left"><a href="https://www.okbtc.cn/bybit?ref=githubio">注册链接</a></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/bybit?ref=githubio">Bybit通过数字资产与传统金融的结合，引领数字资产的生态发展。提供一流的流动性，致力于打造业内最安全、公平、高效及人性化的交易服务平台。</a>
            </td>
        </tr>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">派网</span></td>
            <td style="text-align:left"><a href="https://www.okbtc.cn/pionex?ref=githubio">注册链接</a></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/pionex?ref=githubio">派网提供多样化的量化交易机器人，用户可依照自身交易需求和策略选择最适合的机器人。 同时派网也提供合约交易与合约网格机器人，给予更方便的合约交易体验。</a>
            </td>
        </tr>
    </tbody>
</table>

        </div>

        
        



        
        


        <footer class="post-footer">
          


          
          <nav class="post-nav">
            
              <a class="prev" href="/post/60774/">
                
                <i class="iconfont">
                  <svg  class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M691.908486 949.511495l75.369571-89.491197c10.963703-12.998035 10.285251-32.864502-1.499144-44.378743L479.499795 515.267417 757.434875 204.940602c11.338233-12.190647 11.035334-32.285311-0.638543-44.850487l-80.46666-86.564541c-11.680017-12.583596-30.356378-12.893658-41.662889-0.716314L257.233596 494.235404c-11.332093 12.183484-11.041474 32.266891 0.657986 44.844348l80.46666 86.564541c1.772366 1.910513 3.706415 3.533476 5.750981 4.877077l306.620399 321.703933C662.505829 963.726242 680.945807 962.528973 691.908486 949.511495z"></path>
</svg>

                </i>
                <span class="prev-text nav-default">GPT-4推理更像人了！中国科学院提出「思维传播」，类比思考完胜CoT，即插即用</span>
                <span class="prev-text nav-mobile">上一篇</span>
              </a>
            
              <a class="next" href="/post/60749/">
                <span class="next-text nav-default">LD Capital赛道周报(2023/10/10)：国庆假期，POW项目受关注</span>
                <span class="prev-text nav-mobile">下一篇</span>
                
                <i class="iconfont">
                  <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M332.091514 74.487481l-75.369571 89.491197c-10.963703 12.998035-10.285251 32.864502 1.499144 44.378743l286.278095 300.375162L266.565125 819.058374c-11.338233 12.190647-11.035334 32.285311 0.638543 44.850487l80.46666 86.564541c11.680017 12.583596 30.356378 12.893658 41.662889 0.716314l377.434212-421.426145c11.332093-12.183484 11.041474-32.266891-0.657986-44.844348l-80.46666-86.564541c-1.772366-1.910513-3.706415-3.533476-5.750981-4.877077L373.270379 71.774697C361.493148 60.273758 343.054193 61.470003 332.091514 74.487481z"></path>
</svg>

                </i>
              </a>
          </nav>
        </footer>
      </article>

      
      
        
      


      
      


    </div>

    
    


  </div>

      </main>

      <footer id="footer" class="footer">
        <div class="icon-links">
  

<a href="https://www.okbtc.cn/binance?ref=githubio" class="iconfont">
  <img src="/image/logo/binance.png" width="36px" height="36px" alt="binance">
</a>

<a href="https://www.okbtc.cn/okx?ref=githubio" class="iconfont">
  <img src="/image/logo/okx.png" width="36px" height="36px" alt="okx">
</a>

<a href="https://www.okbtc.cn/htx?ref=githubio" class="iconfont">
  <img src="/image/logo/htx.png" width="36px" height="36px" alt="htx">
</a>

<a href="https://www.okbtc.cn/gateio?ref=githubio" class="iconfont">
  <img src="/image/logo/gateio.png" width="36px" height="36px" alt="gateio">
</a>

<a href="https://www.okbtc.cn/bitget?ref=githubio" class="iconfont">
  <img src="/image/logo/bitget.png" width="36px" height="36px" alt="bitget">
</a>

<a href="https://www.okbtc.cn/bybit?ref=githubio" class="iconfont">
  <img src="/image/logo/bybit.png" width="36px" height="36px" alt="bybit">
</a>

<a href="https://www.okbtc.cn/pionex?ref=githubio" class="iconfont">
  <img src="/image/logo/pionex.png" width="36px" height="36px" alt="pionex">
</a>



</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - <a class="theme-link" href="https://github.com/xianmin/hugo-theme-jane">Jane</a>
  </span>

  <span class="copyright-year">
    &copy;
    2023
    <span class="heart">
      
      <i class="iconfont">
        <svg class="icon" viewBox="0 0 1025 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="14" height="14">
  <path d="M1000.1 247.9c-15.5-37.3-37.6-70.6-65.7-98.9-54.4-54.8-125.8-85-201-85-85.7 0-166 39-221.4 107.4C456.6 103 376.3 64 290.6 64c-75.1 0-146.5 30.4-201.1 85.6-28.2 28.5-50.4 61.9-65.8 99.3-16 38.8-24 79.9-23.6 122.2 0.7 91.7 40.1 177.2 108.1 234.8 3.1 2.6 6 5.1 8.9 7.8 14.9 13.4 58 52.8 112.6 102.7 93.5 85.5 209.9 191.9 257.5 234.2 7 6.1 15.8 9.5 24.9 9.5 9.2 0 18.1-3.4 24.9-9.5 34.5-30.7 105.8-95.9 181.4-165 74.2-67.8 150.9-138 195.8-178.2 69.5-57.9 109.6-144.4 109.9-237.3 0.1-42.5-8-83.6-24-122.2z"
   fill="#8a8a8a"></path>
</svg>

      </i>
    </span><span class="author">
        coin
        
      </span></span>

  
  

  
</div>

      </footer>

      <div class="button__back-to-top">
        <a href="#back-to-top">
          <i class="iconfont">
            
            <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="35" height="35">
  <path d="M510.866688 227.694839 95.449397 629.218702l235.761562 0-2.057869 328.796468 362.40389 0L691.55698 628.188232l241.942331-3.089361L510.866688 227.694839zM63.840492 63.962777l894.052392 0 0 131.813095L63.840492 195.775872 63.840492 63.962777 63.840492 63.962777zM63.840492 63.962777"></path>
</svg>

          </i>
        </a>
      </div>
    </div>
    
<script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>




<script type="text/javascript" src="/js/main.8b200667dc4d9618390c41639250b9c29e57ce80707352fa95af6cb67cf2371a.js" integrity="sha256-iyAGZ9xNlhg5DEFjklC5wp5XzoBwc1L6la9stnzyNxo=" crossorigin="anonymous"></script>












  
    <script type="text/javascript" src="/lib/photoswipe/photoswipe.min.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe-ui-default.min.js"></script>
  











<script>
  var remark_config = {
    host: 'https:\/\/remark42.example.com',
    site_id: 'remark',
    components: [
	    'embed',
    ],
  }
  !function(e,n){for(var o=0;o<e.length;o++){var r=n.createElement("script"),c=".js",d=n.head||n.body;"noModule"in r?(r.type="module",c=".mjs"):r.async=!0,r.defer=!0,r.src=remark_config.host+"/web/"+e[o]+c,d.appendChild(r)}}(remark_config.components||["embed"],document);
</script>







  </body>
</html>
