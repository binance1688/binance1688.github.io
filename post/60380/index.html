<!DOCTYPE html>
<html
  lang="zh-cn"
  itemscope
  itemtype="http://schema.org/WebPage"
>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>
          Rollup 2.0：去中心化排序器之争 - 区块大全
        </title>
    

<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes"/>

<meta name="MobileOptimized" content="width"/>
<meta name="HandheldFriendly" content="true"/>


<meta name="applicable-device" content="pc,mobile">

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="mobile-web-app-capable" content="yes">

<meta name="author" content="佚名" /><meta name="description" content="去中心化排序器是Rollup去中心化最重要的一块拼图。" />

  <meta name="keywords" content="区块大全, 区块链, 区块链资讯, 区块链快讯, 区块链新闻, 比特币行情" />






<meta name="generator" content="Hugo 0.120.4" />


<link rel="canonical" href="/post/60380/" />





<link rel="icon" href="/favicon.ico" />











<link rel="stylesheet" href="/sass/jane.min.d8d87b982993a745e5e7b6a6cbf257be8c3e82aab5e485f0908ad7e6c3501ab2.css" integrity="sha256-2Nh7mCmTp0Xl57amy/JXvow&#43;gqq15IXwkIrX5sNQGrI=" media="screen" crossorigin="anonymous">







<meta property="og:title" content="Rollup 2.0：去中心化排序器之争" />
<meta property="og:description" content="去中心化排序器是Rollup去中心化最重要的一块拼图。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/post/60380/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2023-10-05T00:00:00+00:00" />
<meta property="article:modified_time" content="2023-10-05T00:00:00+00:00" />

<meta itemprop="name" content="Rollup 2.0：去中心化排序器之争">
<meta itemprop="description" content="去中心化排序器是Rollup去中心化最重要的一块拼图。"><meta itemprop="datePublished" content="2023-10-05T00:00:00+00:00" />
<meta itemprop="dateModified" content="2023-10-05T00:00:00+00:00" />
<meta itemprop="wordCount" content="6534">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Rollup 2.0：去中心化排序器之争"/>
<meta name="twitter:description" content="去中心化排序器是Rollup去中心化最重要的一块拼图。"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->




  </head>
  <body>
    <div id="back-to-top"></div>

    <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">区块大全</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="/">主页</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="/post/">归档</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="/categories/">分类</a>
          
        
      </li>
    

    
  </ul>
</nav>


    
      






  <link rel="stylesheet" href="/lib/photoswipe/photoswipe.min.css" />
  <link rel="stylesheet" href="/lib/photoswipe/default-skin/default-skin.min.css" />




<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

    

    

    


    <header id="header" class="header">
      <div class="logo-wrapper">
  <a href="/" class="logo">
    
      区块大全
    
  </a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="/">主页</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="/post/">归档</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="/categories/">分类</a>
          

        

      </li>
    

    
    

    
  </ul>
</nav>

    </header>

    <div id="mobile-panel">
      <main id="main" class="main bg-llight wallpaper">
        <div class="content-wrapper">
    <div id="content" class="content">
      <article class="post">
        
        <header class="post-header">
          <h1 class="post-title">Rollup 2.0：去中心化排序器之争</h1>
          

          <div class="post-meta">
  <div class="post-meta-author">
    by
      佚名
    
  </div>

  <div class="post-meta-time">
    <time datetime="2023-10-05">
      2023-10-05
    </time>
  </div>

  


  <div class="post-meta__right">
    <span class="post-meta-more">
        约 6534 字 -
        预计阅读 14 分钟
      </span>

    <div class="post-meta-category">
        <a href="/categories/%E5%85%B6%E5%AE%83%E6%96%87%E7%AB%A0/"> 其它文章 </a>
          
      </div>


    
    


    
    
  </div>
</div>

        </header>

        
        <div class="post-content">
          <table>
    <thead>
        <tr>
            <th style="text-align:left">推荐平台</th>
            <th style="text-align:left">链接</th>
            <th style="text-align:left">平台介绍</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">币安网</span></td>
            <td style="text-align:left"><span style="white-space:nowrap"><a
                        href="https://www.okbtc.cn/binance?ref=githubio">注册链接</a></span></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/binance?ref=githubio">币安是全球领先的区块链生态系统，推出了一系列产品，其中包括最大的加密货币交易平台。我们的使命是在未来成为全球性加密货币基础架构供应商。</a>
            </td>
        </tr>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">欧易OKX</span></td>
            <td style="text-align:left"><a href="https://www.okbtc.cn/okx?ref=githubio">注册链接</a></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/okx?ref=githubio">欧易是全球著名的数字资产交易平台之一，主要面向全球用户提供比特币、莱特币、以太币等数字资产的币币和衍生品交易服务。</a>
            </td>
        </tr>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">HTX火币</span></td>
            <td style="text-align:left"><a href="https://www.okbtc.cn/htx?ref=githubio">注册链接</a></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/htx?ref=githubio">火币全球专业站，是火币集团旗下服务于全球专业交易用户的创新数字资产国际站，致力于发现优质的创新数字资产投资机会。</a>
            </td>
        </tr>
    </tbody>
</table>
<p>原文作者来源：<a href="https://mirror.xyz/0xd5Eb8F3f1eD7DDA719DAFA19B9C9C7f67513D779/Z0Bmhev9sNYs_d3oBIk84kFfdTc8KxQ-laS-vpGYc54">helloyyy</a></p>
<h2 id="一前言">一、前言</h2>
<p>时光飞逝，据 Optimism 发币已过去一年有余，据 Arbitrum 发币也已过去将近半年；发币仅是它们万里长征的第一步，在此期间，Optimism 实现了 Bedrock 升级、推出了通用的模块化 L2 堆栈 OP Stack, 基于此诞生了 Base 等明星 Rollup；Arbitrum 致力于探索 L3 推动 Arbitrum Orbit 的应用。</p>
<p>Rollup 赛道在两位巨人的引领下，整个赛道的 TVL 一度突破 100 亿美元，目前稳定在 100 亿美元上下。Rollup 作为以太坊“招牌”的扩容解决方案被津津乐道的背后，它们仍然存在非抗审查、中心化的属性。主流的 Rollup 链普遍由官方运行中心化的排序器，虽然 Arbitrum, Optimism, StarkNet 等 Rollup 项目把排序器的去中心化列入路线图中，但均处于规划中短期内尚未实现的状态。去中心化排序器作为 Rollup 去中心化最重要的一块拼图，对 Rollup 本身而言具有非常重要的战略地位，也是民之所向。</p>
<p><img src="https://img.bibiqing.com/news/2023/1005/18_yibfjs2yhm.png" alt="据 L2Beat 数据，截止至 2023 年 10 月 1 日 L2 赛道的 TVL"></p>
<h2 id="二rollup-的交易费用">二、Rollup 的交易费用</h2>
<p>了解什么是排序器之前，先来聊聊 Rollup 交易费用的组成。Rollup 的交易费用即用户在 Arbitrum 等 L2 交易产生的 gas 费。</p>
<p>主要由 2 部分组成：</p>
<p><strong>1）L2 执行费用</strong></p>
<p><strong>2）L1 数据费用</strong></p>
<p>L2 执行费用：交易在 L2 执行的成本（每笔在 L2 链上发起的交易都要支付一笔执行费）</p>
<p>交易燃气价格 = L2 基础费用 + L2 优先费用</p>
<p>L2 执行费用 = 交易燃气价格 * L2 燃气使用量</p>
<p>L1 数据费用：将 L2 交易发布到 L1 的成本。通常情况下，L1 数据费用要高于 L2 执行费用。</p>
<p>L2 交易费用 = L2 执行费用 + L1 数据费用</p>
<p>排序器的净收入 = L2 的交易费用收入 - 排序器运营成本 - L1 数据费用</p>
<p>项目方运营的中心化排序器拥有一定程度上的定价权（比如 L2 执行费用收高一点、L1 数据费用收高一点），这也是为什么几个知名 Rollup 项目方赚得盆满钵满的原因。</p>
<h3 id="什么是排序器">什么是排序器？</h3>
<p>排序器，顾名思义，即负责交易排序的角色。在比特币网络，交易排序的职责由矿工负责；以太坊由节点集合负责，它们均不是固定的角色，而是更具共识机制来确定谁有权参与顺序执行。</p>
<p>目前主流的 Rollup 均运行中心化的单一排序器。用户在 L2 的交易进入 mem 池（此时 mem 池中的交易是无序状态），排序器将交易排序、压缩成一组有序的批次，然后发送到以太坊的 DA 层。</p>
<p><img src="https://img.bibiqing.com/news/2023/1005/18_q802akji4s.png" alt="排序器运作流程"></p>
<h3 id="rollup-必须要排序器吗">Rollup 必须要排序器吗？</h3>
<p>答案是否定的。Rollup 上的交易完全可以绕过排序器提交给 L1 基础层，由 L1 来负责排序和结算，但也将面临较高的 gas 消耗和较长的交易确认时间。</p>
<p>Rollup 排序器类似于使用了「快车道」，把成百上千笔 L2 交易压缩聚合成单笔 L1 交易，从而极大地降低了 gas 成本。这也是目前主流的 Rollup 都运行中心化排序器的原因，为用户提供更低的 gas, 更快的交易确认，从而改善用户交易体验。</p>
<h2 id="三中心化排序器-vs-去中心化排序器">三、中心化排序器 vs. 去中心化排序器</h2>
<h3 id="中心化">中心化！</h3>
<p>中心化的优势非常明显，想怎么给交易排序就怎么排，不需要换人排序，也不需要对排序的结果达成共识。也就意味着拥有非常快的交易确认速度，用户的体验感更好；但中心化也赋予了排序器对交易排序极大的自主权，它可以肆意对交易进行排序，以最大化自己的套利机会，攫取 MEV 价值，延迟用户交易甚至完全审查用户。</p>
<p>排序器可以在单一区块内通过改变交易排序攫取 MEV 价值；危害更大的是，由于排序器控制着连续多个区块的排序，很容易执行跨区块 MEV，从而造成规模更大的攻击。</p>
<p>上述情况都属于排序器主动作恶，有些错误并非排序器有意为之，但仍然损害了用户的体验和权益。打个比方，排序器不小心把一笔已经花费的代币交易重新包含在软承诺中，然后发送给 L1 验证，可能存在交易迟迟无法得到确认的情况；又如单一的排序器掉线了，导致二层无法正常出块，网络长时间宕机。</p>
<p>鱼和熊掌不可兼得，但 Rollup 性能的优化绝不能以牺牲去中心化和抗审查为代价。</p>
<h3 id="去中心化">去中心化？</h3>
<p>如果中心化是 1 ，那么去中心化就是多。不同去中心化排序器方案的实现路径有差异，但它们的核心理念是一致的，就是权力下放。</p>
<p>排序器不再拥有中心化对交易排序至高无上的权利，负责排序的角色基于特定的选举机制从一组排序器集合中选出，并进行固定周期的轮换。</p>
<p>去中心化杜绝了排序器源源不断地攫取 MEV，也防止了单一排序器审查用户的交易。加之对应的作恶惩罚机制，也能有效地规范排序器的行为。</p>
<h2 id="四去中心化排序器赛道概览">四、去中心化排序器赛道概览</h2>
<p>绕了这么久，终于进入正题了。去中心化排序器，一种是 Rollup 项目方自己做，另一种是借助第三方实现。借助第三方实现去中心化排序器，其实也可以称之为 Sequencing-as-a-Service，排序即服务。</p>
<p>Espresso、Astria、SUAVE、Radius 等项目都专注于去中心化排序器方案，它们的实现路径各不相同。</p>
<h3 id="1-espresso">1. Espresso</h3>
<p>Espresso Systems 早期是一家专注于隐私解决方案的服务商， 2022 年 3 月宣布获得由 Electric Capital, 红杉，Blockchain Capital 参投的近 3000 万美元的 A 轮融资。Espresso Systems 目前基本转型做 Espresso Sequencer，专门为 Rollup 提供去中心化排序器的服务。</p>
<p><img src="https://img.bibiqing.com/news/2023/1005/18_mi7vmeddkr.png" alt="Espresso 融资情况"></p>
<p>L2 交易在 Espresso 排序器的排序机制下，大体经历的生命周期如下：</p>
<p>1）用户在二层发生的交易发送到 Rollup 服务器（API）；</p>
<p>2）交易进入 mem 池，排序器（通过 HotShot 共识选举）将交易排序并包含在一个区块中；</p>
<p>3）排序器将交易广播，经由其他节点达成 HotShot 共识后出块，交易被执行；软承诺提供快速交易确认；</p>
<p>4）排序器将包含交易的区块承诺附带共识证书（QC: Quorum Certificate）发送并存储在 L1 排序器合约中（证明该区块通过共识达成软最终性）；</p>
<p>5）已执行该区块的 Rollup 节点将新的 Rollup 状态发送到 L1（此时 zkRU 需要附带有效性证明，ORU 打开挑战期）；</p>
<p>6）L1 Rollup 合约通过验证排序器合约发送来的 QC 检查状态更新的有效性。</p>
<p><img src="https://img.bibiqing.com/news/2023/1005/97eiund49fjfva8" alt="Rollup 2.0：去中心化排序器之争"></p>
<p>这个流程看起来晦涩难懂，简单理解就是：</p>
<p>HotShot 共识在一群排序器集合中选出其中之一，由它负责 Rollup 交易的排序并把交易包含在一个区块中；这个区块必须经由其他的 Rollup 节点签署达成共识（2/3 以上 HotShot 节点同意）才具有「最终性」，然后相关的区块承诺和新的 Rollup 状态根才提交给 L1 基础层做验证。</p>
<p>上面的「最终性」带了引号，这个带引号的「最终性」和不带引号的最终性不是一个概念。带引号的「最终性」是为了让 Rollup 的交易更快地确认，延迟少，用户的体验更好；但 Rollup 的交易最终还是要 L1 基础层去做验证（zkRU 要验证有效性证明，ORU 要等待挑战期结束），验证 Rollup 提交的交易没问题的情况下，这时 Rollup 的交易才具有真正的最终性。</p>
<p>也就意味着：如果 L1 基础层验证交易是无效的话，相关的已出块的 L2 区块就会面临回滚。所以，「最终性」是为了让交易快速确认，最终性是为了继承以太坊的安全性。</p>
<p><img src="https://img.bibiqing.com/news/2023/1005/sbmp1fv54ed0iby" alt="Rollup 2.0：去中心化排序器之争"></p>
<p><img src="https://img.bibiqing.com/news/2023/1005/18_s6rj4z2ak2.png" alt="集成 Espresso 的交易排序架构"></p>
<ul>
<li><strong>Espresso + EigenLayer</strong></li>
</ul>
<p>Espresso 基于 HotShot 共识解决了排序器轮换问题和交易「最终性」的确定问题，通过引入 EigenLayer 解决排序器的准入问题。</p>
<p>EigenLayer 的再质押机制使以太坊的质押者同时成为 Espresso 排序器成为可能，为 HotShot 共识提供安全保障。简言之，以太坊的节点质押者可以通过 EigenLayer 的再质押机制成为 Espresso Sequencer(ESQ)，以太坊质押者在获得 PoS 节点收益的同时，也捕获了二层 MEV 的价值。</p>
<p>ETH 持有者的潜在收益 = 原生网络的节点奖励 + L2 EVM + 其他 PoS 链的节点奖励（使用 EigenLayer 再质押机制），三重 buff 极大赋能了 ETH。</p>
<p><img src="https://img.bibiqing.com/news/2023/1005/18_qk1mmnv1av.png" alt="EigenLayer 的去中心化排序器方案"></p>
<p>Espresso 作为通用类的去中心化排序器解决方案，生态合作项目除 EigenLayer 外，还包括 Arbitrum, OP Stack, Caldera, AltLayer 等一众明星模块化项目。</p>
<p><img src="https://img.bibiqing.com/news/2023/1005/18_kudkhur0ra.jpeg" alt="Espresso 生态合作项目版图"></p>
<h3 id="2-astria">2. Astria</h3>
<p>Astria 的定位是通用、无需许可的去中心化排序器，为不同 Rollup 提供了开箱即用的共享排序器服务。融资方面，Astria 在 2023 年 4 月宣布完成由 Maven 11 领投的 550 万美元种子轮融资，跟投机构包括 1 k(x), Delphi Digital, Lemniscap, Robot Ventures 等。虽然融资规模不大，但机构阵容非常华丽。</p>
<p><img src="https://img.bibiqing.com/news/2023/1005/18_t54l7oqluc.png" alt="Astria 融资情况"></p>
<ul>
<li><strong>运行机制</strong></li>
</ul>
<p>Astria 去中心化排序器的运行机制和 Espresso Sequencer 大同小异，目的都是通过把交易排序权利下放来弱化排序者的特权。具体来看：</p>
<p>针对排序器的轮换，Astria 提出了 2 种轮换机制：简单的领导者轮换（Leader Rotation）和拜占庭容错（BFT）共识算法。</p>
<p><strong>1）领导者轮换</strong></p>
<p>通过选举的排序器组成一个集合，排序器集合轮流对 Rollup 交易进行排序。这种方式杜绝了单一排序器长时间持续垄断交易的排序权，一定程度上解决了对用户持续审查的问题。</p>
<p><img src="https://img.bibiqing.com/news/2023/1005/18_5stajssjbv.png" alt="Astria 的领导者轮换机制"></p>
<p><strong>2）BFT 共识算法</strong></p>
<p>跟领导者轮换机制类似，轮到的排序器有权负责交易排序，但排序器集合中必须有 2/3 及以上成员需要就这个排序达成共识。</p>
<p>两种方法各有优缺点：前者交易确认速度更快，实现快速出块，效率接近于中心化排序器。但折衷点是仍然很难约束轮到的排序器不去作恶；采用 BFT 共识作恶的概率更小，需要集合中 2/3 的排序器投票达成共识才出块。但需要一定的时间进行共识投票，造成了网络延迟的问题。</p>
<p><img src="https://img.bibiqing.com/news/2023/1005/18_qwvd93udtb.png" alt="Astria 的 BFT 共识算法"></p>
<h3 id="3-suave">3. SUAVE</h3>
<p>SUAVE 是 Flashbots 构建的去中心化、即插即用的共享排序器解决方案，作为通用类方案，SUAVE 能为任意 L1/ L2 提供内存池和去中心化区块构建。SUAVE 与前述共享排序器设计的不同之处在于，SUAVE Chain 本身是一条 EVM 兼容链，通过区块“竞标”的方式实现交易排序。</p>
<ul>
<li><strong>SUAVE 架构</strong></li>
</ul>
<p>SUAVE 的架构由 3 大核心组件构成：通用偏好环境、最佳执行市场和去中心化区块构建。</p>
<p><strong>1）偏好环境</strong></p>
<p>偏好覆盖范围广泛，从简单的交易到复杂的事件。用户的偏好以交易的形式反映在 mempool 中，偏好环境作为一个公共的 mempool 将偏好汇聚在一起。SUAVE 提供的通用偏好环境使多链的用户偏好公开透明，消除了信息差，在一定程度上解决了跨链 MEV 的问题。</p>
<p><strong>2）执行市场</strong></p>
<p>执行市场是由执行者参与的网络，执行者负责监听 SUAVE memepool 并相互竞争，竞争驱动它们为用户偏好提供最佳的执行。可以理解为所有的执行者通过“竞标”的方式去实现用户的偏好，将用户交易产生的 MEV 尽可能多地返还给用户。</p>
<p><strong>3）去中心化区块构建</strong></p>
<p>最后，依据收集到的偏好和最佳的执行路径，去中心化区块构建网络将它们包含在区块中。至此实现交易发现、交易排序、出块的全流程。</p>
<p><img src="https://img.bibiqing.com/news/2023/1005/18_bp9ld4u30f.png" alt="SUAVE 的核心组件"></p>
<h3 id="4radius">4.Radius</h3>
<p>Radius 的定位是一个无需信任的共享排序层。与前述方案的实现机制均不同，Radius 通过启用加密 mempool, 确保 Rollup 交易被无需信任地排序，从而消除有效的 MEV 和用户交易审查。</p>
<p>融资方面，Radius 于 2023 年 6 月宣布完成由 Hashed 领投的 170 万美元 Pre-seed 轮融资，跟投机构包括 Superscrypt, LambdaClass 和 Crypto.com。</p>
<p><img src="https://img.bibiqing.com/news/2023/1005/18_msnm54ih9s.png" alt="Radius 融资信息"></p>
<p>Espresso, Astria 等基于共识机制的去中心化排序器在一定程度上降低了 MEV 和审查风险，但是以牺牲网络可扩展性和时间效率为代价的，带来了一定的交易确认延迟（需要就交易排序达成共识）。此外，虽然交易排序处在一个去中心化的环境中，由于 mempool 的相关交易是透明的，排序器仍然有作恶的空间攫取 MEV. Radius 通过加密 mempool, 相关交易信息对排序器不可见，旨在从源头扼杀排序器恶意攫取 MEV 和审查交易的问题。</p>
<ul>
<li><strong>技术架构</strong></li>
</ul>
<p>Radius 技术架构可分为以下 4 大功能层级：排序层（Radius）、执行层（Rollup）、结算层和数据可用性层。</p>
<p><strong>1）排序层</strong></p>
<p>1. 用户提交加密交易和证明给排序器；</p>
<p>2.排序器验证证明并验证交易；</p>
<p>3.排序器对交易进行排序，在此之前无法解密交易；</p>
<p>4.排序器构建一个区块；</p>
<p>5.排序器将区块提交给 Rollup 执行。</p>
<p><strong>2）执行层</strong></p>
<p>1. Rollup 接收来自排序器的区块，并按照提供的顺序执行交易；</p>
<p>2.Rollup 将交易状态和状态证明提交给结算层。</p>
<p><strong>3）结算层</strong></p>
<p>1. 结算层接收来自 Rollup 的状态和状态证明，负责验证证明并确定交易的最终性；</p>
<p>2.排序层验证执行是否与顺序匹配。</p>
<p><strong>4）数据可用性层</strong></p>
<p>数据可用性层存储数据并确保数据可用。</p>
<p><img src="https://img.bibiqing.com/news/2023/1005/18_giseeb8k6h.png" alt="Radius 各大功能层级架构"></p>
<ul>
<li><strong>mempool 的加密机制 - PVDE</strong></li>
</ul>
<p>Radius 采用基于零知识证明的加密方案「实用可验证延迟加密」（PVDE）来创建加密 mempool。</p>
<p><strong>具体流程如下：</strong></p>
<p>当用户向排序器提交交易时：</p>
<p>1.用户生成一个时间锁谜题和一个对称密钥；</p>
<p>2.用户使用对称密钥对交易进行加密，加密后的交易进入 mempool；</p>
<p>3.排序器对加密交易进行排序，排序器需要解锁时间锁谜题才能获得解密密钥；</p>
<p>4.排序器在解锁时间锁谜题前计算订单承诺，并将承诺提交的结算层（用于验证排序器按顺序将交易提交给了 Rollup）。</p>
<p><img src="https://img.bibiqing.com/news/2023/1005/18_ujkyi8yy4q.png" alt="Radius 交易加密、解密过程"></p>
<ul>
<li><strong>排序器的去中心化方案</strong></li>
</ul>
<p>加密 mempool 确保了排序器的无需信任，但单点故障风险仍然存在。如果运行单一排序器 + 加密 mempool, 排序器故障会导致网络宕机。为了解决这个问题，Radius 提出了多种去中心化排序器实现方案，包括秘密领导者选举机制、排序器组分片机制等。</p>
<p>当然，Radius 也可以选择参考 Espresso 和 Astria 的排序器轮换机制，同时实现交易排序的去中心化和无需信任。</p>
<ul>
<li><strong>区块空间优化</strong></li>
</ul>
<p>Radius 通过区块空间优化，旨在实现既保护用户又最大化 Rollup 利润的目标。Rollup 采用先到先服务（FCFS）的排序机制，优点是能有效防止 MEV, 弊端是必须牺牲区块空间拍卖的潜在利润。</p>
<p>为了解决上述交易排序的两难困境，Radius 通过将区块空间划分为顶部块空间和底部块空间 2 部分：</p>
<p>其中顶部块空间专用于用户交易，将用户交易加密，消除交易排序操纵，从而保护用户免受有害 MEV 和审查风险；底部区块引入一个基于拍卖的交易市场，套利者可以将捆绑交易和它们的出价提交给排序器，排序器会选择出价最高的捆绑交易包含在区块中，这种方法能够使 Rollup 利润最大化。</p>
<p>以上就是目前主流的通用去中心化排序器解决方案。对于 Rollup 而言，面临着运行中心化排序器还是去中心化排序器？集成第三方通用排序器方案还是自己实现去中心化？采用哪种技术实现方案实现交易排序的去中心化？等多个维度的利弊权衡。</p>
<h2 id="五rollup-间的博弈">五、Rollup 间的博弈</h2>
<h3 id="权衡-1-是否去中心化">权衡 1: 是否去中心化？</h3>
<p>Optimism, Arbitrum, zkSync, Base 等几大主流 Rollup 靠运行中心化排序器赚得盆满钵满，去中心化将交易排序的权利下放必然涉及分润。在不考虑 Rollup 赛道愈发激烈的竞争格局的前提下，谁也不愿意把这份到手的香饽饽分出去。但假设有 Rollup 率先启动去中心化排序器，这或许是一个巨大的流量入口，在 Rollup 细分赛道中形成示范效应，从而倒逼其他 Rollup 项目将其排序器去中心化。</p>
<h3 id="权衡-2-集成通用第三方-vs-内部专用解决方案">权衡 2: 集成通用第三方 vs. 内部专用解决方案</h3>
<p>排序器实现去中心化的路径总体而言就 2 种：一种是别人做好的拿过来用；另一种是自己下场干。像 Espresso, Astria 等第三方能够为 Rollup 提供开箱即用的去中心化排序器服务，那么 Rollup 本身就能继续专注于产品差异化和优化性能，提高自身的核心竞争力；此外，集成通用类的去中心化排序器方案也更利于实现互操作性，带来包括跨 Rollup 套利等更多的可能性。而此方案的弊端可能在于无法对 Rollup 本身的原生代币进行有效的赋能。</p>
<p>Rollup 如果采用内部专用解决方案实现去中心化排序器，这是最耗时且昂贵的方案，但确实实现 Rollup 原生代币赋能的最行之有效的方式。如 StarkNet 的项目方可以要求用户质押协议原生代币成为排序器集合参与 Rollup 的交易排序，并收取一定的服务费用，从而实现价值的累积。</p>
<h3 id="权衡-3-采用哪种技术实现方案实现去中心化排序">权衡 3: 采用哪种技术实现方案实现去中心化排序？</h3>
<p>如前所述，实现去中心化交易排序的技术实现方案有很多，包括但不限于基于不同的共识机制、FCFS、区块竞价、加密 mempool 等方案。每种技术实现方案各有优缺点：基于共识机制将受限于时间效率、加密 mempool 无法实现 Rollup 利润最大化等，当然也可以参考 Astria 融合 2 种不同的技术实现方案。各种不同技术实现方案间的权衡点是所有 Rollup 项目需要深思熟虑的问题。</p>
<h2 id="写在最后">写在最后</h2>
<p>虽然目前 Rollup 赛道的龙头 Optimism、Arbitrum 均已发币，但这或许仅仅是个起点，真正意义上的竞争可能才刚刚开始。至少从目前的趋势看，去中心化排序器一定是兵家必争之地。</p>
<p>zk 系 Rollup 项目也在悄然崛起，在竞争日趋激烈的环境下，走错一步可能都会造成无法弥补的损失。但在影响项目生死存亡的革新面前，Rollup 们无从选择，只能顺应大势。</p>
<h2 id="参考文献">参考文献</h2>
<p>[ 1 ] Binance Research: Ethereum’s Rollups are Centralized. A Look Into Decentralized Sequencers</p>
<p><a href="https://www.binance.com/en/research/analysis/ethereums-rollups-are-centralized-a-look-into-decentralized-sequencers">https://www.binance.com/en/research/analysis/ethereums-rollups-are-centralized-a-look-into-decentralized-sequencers</a></p>
<p>[2] Espresso HotShot: Consensus Designed for Rollups</p>
<p><a href="https://medium.com/@espressosys/espresso-hotshot-consensus-designed-for-rollups-b080ba7362d1">https://medium.com/@espressosys/espresso-hotshot-consensus-designed-for-rollups-b080ba7362d1</a></p>
<p>[ 3 ] Based rollups—superpowers from L1 sequencing</p>
<p><a href="https://ethresear.ch/t/based-rollups-superpowers-from-l1-sequencing/15016">https://ethresear.ch/t/based-rollups-superpowers-from-l1-sequencing/15016</a> </p>
<p>[ 4 ] Introducing Astria: The Shared Sequencer Network</p>
<p><a href="https://blog.astria.org/introducing-astria/">https://blog.astria.org/introducing-astria/</a></p>
<p>[5] Introducing the Astria Development Cluster</p>
<p><a href="https://blog.astria.org/introducing-the-astria-development-cluster/">https://blog.astria.org/introducing-the-astria-development-cluster/</a></p>
<p>[6] Why Decentralize Sequencers?</p>
<p><a href="https://blog.astria.org/why-decentralize-sequencers/">https://blog.astria.org/why-decentralize-sequencers/</a></p>
<p>[7] IOSG 详解 SUAVE：MEV 规模化增长的新十年</p>
<p><a href="https://foresightnews.pro/article/detail/24673">https://foresightnews.pro/article/detail/24673</a></p>
<p>[8] The Future of MEV is SUAVE</p>
<p><a href="https://writings.flashbots.net/the-future-of-mev-is-suave/">https://writings.flashbots.net/the-future-of-mev-is-suave/</a></p>
<p>[9] Radius Gitbook</p>
<p><a href="https://docs.theradius.xyz/overview/introduction-to-radius">https://docs.theradius.xyz/overview/introduction-to-radius</a></p>
<table>
    <thead>
        <tr>
            <th style="text-align:left">推荐平台</th>
            <th style="text-align:left">链接</th>
            <th style="text-align:left">平台介绍</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">Gate芝麻开门</span></td>
            <td style="text-align:left"><span style="white-space:nowrap"><a
                        href="https://www.okbtc.cn/gateio?ref=githubio">平台介绍</a></span></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/gateio?ref=githubio">Gate.io芝麻开门创立于2013年，是全球真实交易量TOP10的加密货币交易平台，向全球数千万用户提供安全可靠、真实透明的数字资产交易服务。</a>
            </td>
        </tr>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">Bitget</span></td>
            <td style="text-align:left"><a href="https://www.okbtc.cn/bitget?ref=githubio">注册链接</a></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/bitget?ref=githubio">Bitget的背后是一群区块链技术的早期接受者，也是区块链未来发展的信仰者，一直致力于提供安全、一站式的交易解决方案，帮助用户更聪明地交易。</a>
            </td>
        </tr>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">Bybit</span></td>
            <td style="text-align:left"><a href="https://www.okbtc.cn/bybit?ref=githubio">注册链接</a></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/bybit?ref=githubio">Bybit通过数字资产与传统金融的结合，引领数字资产的生态发展。提供一流的流动性，致力于打造业内最安全、公平、高效及人性化的交易服务平台。</a>
            </td>
        </tr>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">派网</span></td>
            <td style="text-align:left"><a href="https://www.okbtc.cn/pionex?ref=githubio">注册链接</a></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/pionex?ref=githubio">派网提供多样化的量化交易机器人，用户可依照自身交易需求和策略选择最适合的机器人。 同时派网也提供合约交易与合约网格机器人，给予更方便的合约交易体验。</a>
            </td>
        </tr>
    </tbody>
</table>

        </div>

        
        



        
        


        <footer class="post-footer">
          


          
          <nav class="post-nav">
            
              <a class="prev" href="/post/60372/">
                
                <i class="iconfont">
                  <svg  class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M691.908486 949.511495l75.369571-89.491197c10.963703-12.998035 10.285251-32.864502-1.499144-44.378743L479.499795 515.267417 757.434875 204.940602c11.338233-12.190647 11.035334-32.285311-0.638543-44.850487l-80.46666-86.564541c-11.680017-12.583596-30.356378-12.893658-41.662889-0.716314L257.233596 494.235404c-11.332093 12.183484-11.041474 32.266891 0.657986 44.844348l80.46666 86.564541c1.772366 1.910513 3.706415 3.533476 5.750981 4.877077l306.620399 321.703933C662.505829 963.726242 680.945807 962.528973 691.908486 949.511495z"></path>
</svg>

                </i>
                <span class="prev-text nav-default">Polygon联创Jaynti Kanani宣布离职</span>
                <span class="prev-text nav-mobile">上一篇</span>
              </a>
            
              <a class="next" href="/post/60399/">
                <span class="next-text nav-default">SignalPlus波动率专栏(20231005)：IV持续小幅下降，PutSpread继续主导大宗市场</span>
                <span class="prev-text nav-mobile">下一篇</span>
                
                <i class="iconfont">
                  <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M332.091514 74.487481l-75.369571 89.491197c-10.963703 12.998035-10.285251 32.864502 1.499144 44.378743l286.278095 300.375162L266.565125 819.058374c-11.338233 12.190647-11.035334 32.285311 0.638543 44.850487l80.46666 86.564541c11.680017 12.583596 30.356378 12.893658 41.662889 0.716314l377.434212-421.426145c11.332093-12.183484 11.041474-32.266891-0.657986-44.844348l-80.46666-86.564541c-1.772366-1.910513-3.706415-3.533476-5.750981-4.877077L373.270379 71.774697C361.493148 60.273758 343.054193 61.470003 332.091514 74.487481z"></path>
</svg>

                </i>
              </a>
          </nav>
        </footer>
      </article>

      
      
        
      


      
      


    </div>

    
    <nav class="toc" id="toc">
    <div class="toc-title">文章目录</div>
    <div class="toc-content custom-scrollbar">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#一前言">一、前言</a></li>
    <li><a href="#二rollup-的交易费用">二、Rollup 的交易费用</a>
      <ul>
        <li><a href="#什么是排序器">什么是排序器？</a></li>
        <li><a href="#rollup-必须要排序器吗">Rollup 必须要排序器吗？</a></li>
      </ul>
    </li>
    <li><a href="#三中心化排序器-vs-去中心化排序器">三、中心化排序器 vs. 去中心化排序器</a>
      <ul>
        <li><a href="#中心化">中心化！</a></li>
        <li><a href="#去中心化">去中心化？</a></li>
      </ul>
    </li>
    <li><a href="#四去中心化排序器赛道概览">四、去中心化排序器赛道概览</a>
      <ul>
        <li><a href="#1-espresso">1. Espresso</a></li>
        <li><a href="#2-astria">2. Astria</a></li>
        <li><a href="#3-suave">3. SUAVE</a></li>
        <li><a href="#4radius">4.Radius</a></li>
      </ul>
    </li>
    <li><a href="#五rollup-间的博弈">五、Rollup 间的博弈</a>
      <ul>
        <li><a href="#权衡-1-是否去中心化">权衡 1: 是否去中心化？</a></li>
        <li><a href="#权衡-2-集成通用第三方-vs-内部专用解决方案">权衡 2: 集成通用第三方 vs. 内部专用解决方案</a></li>
        <li><a href="#权衡-3-采用哪种技术实现方案实现去中心化排序">权衡 3: 采用哪种技术实现方案实现去中心化排序？</a></li>
      </ul>
    </li>
    <li><a href="#写在最后">写在最后</a></li>
    <li><a href="#参考文献">参考文献</a></li>
  </ul>
</nav>
    </div>
  </nav>


  </div>

      </main>

      <footer id="footer" class="footer">
        <div class="icon-links">
  

<a href="https://www.okbtc.cn/binance?ref=githubio" class="iconfont">
  <img src="/image/logo/binance.png" width="36px" height="36px" alt="binance">
</a>

<a href="https://www.okbtc.cn/okx?ref=githubio" class="iconfont">
  <img src="/image/logo/okx.png" width="36px" height="36px" alt="okx">
</a>

<a href="https://www.okbtc.cn/htx?ref=githubio" class="iconfont">
  <img src="/image/logo/htx.png" width="36px" height="36px" alt="htx">
</a>

<a href="https://www.okbtc.cn/gateio?ref=githubio" class="iconfont">
  <img src="/image/logo/gateio.png" width="36px" height="36px" alt="gateio">
</a>

<a href="https://www.okbtc.cn/bitget?ref=githubio" class="iconfont">
  <img src="/image/logo/bitget.png" width="36px" height="36px" alt="bitget">
</a>

<a href="https://www.okbtc.cn/bybit?ref=githubio" class="iconfont">
  <img src="/image/logo/bybit.png" width="36px" height="36px" alt="bybit">
</a>

<a href="https://www.okbtc.cn/pionex?ref=githubio" class="iconfont">
  <img src="/image/logo/pionex.png" width="36px" height="36px" alt="pionex">
</a>



</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - <a class="theme-link" href="https://github.com/xianmin/hugo-theme-jane">Jane</a>
  </span>

  <span class="copyright-year">
    &copy;
    2023
    <span class="heart">
      
      <i class="iconfont">
        <svg class="icon" viewBox="0 0 1025 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="14" height="14">
  <path d="M1000.1 247.9c-15.5-37.3-37.6-70.6-65.7-98.9-54.4-54.8-125.8-85-201-85-85.7 0-166 39-221.4 107.4C456.6 103 376.3 64 290.6 64c-75.1 0-146.5 30.4-201.1 85.6-28.2 28.5-50.4 61.9-65.8 99.3-16 38.8-24 79.9-23.6 122.2 0.7 91.7 40.1 177.2 108.1 234.8 3.1 2.6 6 5.1 8.9 7.8 14.9 13.4 58 52.8 112.6 102.7 93.5 85.5 209.9 191.9 257.5 234.2 7 6.1 15.8 9.5 24.9 9.5 9.2 0 18.1-3.4 24.9-9.5 34.5-30.7 105.8-95.9 181.4-165 74.2-67.8 150.9-138 195.8-178.2 69.5-57.9 109.6-144.4 109.9-237.3 0.1-42.5-8-83.6-24-122.2z"
   fill="#8a8a8a"></path>
</svg>

      </i>
    </span><span class="author">
        coin
        
      </span></span>

  
  

  
</div>

      </footer>

      <div class="button__back-to-top">
        <a href="#back-to-top">
          <i class="iconfont">
            
            <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="35" height="35">
  <path d="M510.866688 227.694839 95.449397 629.218702l235.761562 0-2.057869 328.796468 362.40389 0L691.55698 628.188232l241.942331-3.089361L510.866688 227.694839zM63.840492 63.962777l894.052392 0 0 131.813095L63.840492 195.775872 63.840492 63.962777 63.840492 63.962777zM63.840492 63.962777"></path>
</svg>

          </i>
        </a>
      </div>
    </div>
    
<script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>




<script type="text/javascript" src="/js/main.8b200667dc4d9618390c41639250b9c29e57ce80707352fa95af6cb67cf2371a.js" integrity="sha256-iyAGZ9xNlhg5DEFjklC5wp5XzoBwc1L6la9stnzyNxo=" crossorigin="anonymous"></script>












  
    <script type="text/javascript" src="/lib/photoswipe/photoswipe.min.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe-ui-default.min.js"></script>
  











<script>
  var remark_config = {
    host: 'https:\/\/remark42.example.com',
    site_id: 'remark',
    components: [
	    'embed',
    ],
  }
  !function(e,n){for(var o=0;o<e.length;o++){var r=n.createElement("script"),c=".js",d=n.head||n.body;"noModule"in r?(r.type="module",c=".mjs"):r.async=!0,r.defer=!0,r.src=remark_config.host+"/web/"+e[o]+c,d.appendChild(r)}}(remark_config.components||["embed"],document);
</script>







  </body>
</html>
